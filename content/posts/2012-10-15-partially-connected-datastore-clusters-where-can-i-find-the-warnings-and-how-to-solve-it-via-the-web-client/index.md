---
title: "Partially connected datastore clusters - where can I find the warnings and how to solve it via the web client?"
date: 2012-10-15
categories: 
  - "sdrs"
tags: 
  - "partially-connected"
  - "storage-drs"
---

During my Storage DRS presentation at VMworld I talked about datastore cluster architecture and covered the [impact of partially connected datastore clusters](http://frankdenneman.nl/2011/10/partially-connected-datastore-clusters/). In short – when a datastore in a datastore cluster is not connected to all hosts of the connected DRS cluster, the datastore cluster is considered partially connected. This situation can occur when not all hosts are configured identically, or when new ESXi hosts are added to the DRS cluster. **The problem** I/O load balancing does not support partially connected datastores in a datastore cluster and Storage DRS disables the IO load balancing for the entire datastore cluster. Not only on that single partially connected datastore, but the entire cluster. Effectively degrading a complete feature set of your virtual infrastructure. Therefore having an homogenous configuration throughout the cluster is imperative. **Warning messages** An entry is listed in the Storage DRS Faults window. In the web vSphere client: 1. Go to Storage 2. Select the datastore cluster 3. Select Monitor 4. Storage DRS 5. Faults. [![Storage DRS IO load balancing component was not run due to an unsupported configuration or insufficient information about datastores or virtual disks](images/00-Fault-details.png "00-Fault-details")](http://frankdenneman.nl/wp-content/uploads/2012/10/00-Fault-details.png) The connectivity menu option shows the Datastore Connection Status, in the case of a partially connected datastore, the message Datastore Connection Missing is listed. [![Storage DRS datastore is missing](images/02-datastore-connection-missing.png "02-datastore-connection-missing")](http://frankdenneman.nl/wp-content/uploads/2012/10/02-datastore-connection-missing.png) When clicking on the entry, the details are shown in the lower part of the view: [![Storage DRS missing datastore connection](images/03-missing-connection.png "03-missing connection")](http://frankdenneman.nl/wp-content/uploads/2012/10/03-missing-connection.png) **Returning to a fully connected state** To solve the problem, you must connect or mount the datastores to the newly added hosts. In the web client this is considered a host-operation, therefore select the datacenter view and select the hosts menu option. 1. Right-click on a newly added host 2. Select New Datastore 3. Provide the name of the existing datastore [![Storage DRS add new datastore](images/04-add-new-datastore.png "04-add-new-datastore")](http://frankdenneman.nl/wp-content/uploads/2012/10/04-add-new-datastore.png) 4. Click on Yes when the warning “Duplicate NFS Datastore Name” is displayed. [![vSphere 5.1 Duplicate NFS Datastore Name](images/05-duplicate-datastore.png "05-duplicate-datastore")](http://frankdenneman.nl/wp-content/uploads/2012/10/05-duplicate-datastore.png) 5. As the UI is using existing information, select next until Finish. 6. Repeat steps for other new hosts. After connecting all the new hosts to the datastore, check the connectivity view in the monitor menu of the of the datastore cluster [![Storage DRS all datastores connected](images/06-add-datastores-connected.png "06-add-datastores-connected")](http://frankdenneman.nl/wp-content/uploads/2012/10/06-add-datastores-connected.png) Get notification of these blogs postings and more DRS and Storage DRS information by following me on Twitter: [@frankdenneman](https://twitter.com/FrankDenneman)
